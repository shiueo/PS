---
title: "BOJ - 1912"
description: "연속합"
date: "2023-05-04"
tags: ['BOJ', 'Rust']
---
## Problem
> n개의 정수로 이루어진 임의의 수열이 주어진다. 우리는 이 중 연속된 몇 개의 수를 선택해서 구할 수 있는 합 중 가장 큰 합을 구하려고 한다. 단, 수는 한 개 이상 선택해야 한다. 예를 들어서 10, -4, 3, 1, 5, 6, -35, 12, 21, -1 이라는 수열이 주어졌다고 하자. 여기서 정답은 12+21인 33이 정답이 된다.


## Input
> 첫째 줄에 정수 n(1 ≤ n ≤ 100,000)이 주어지고 둘째 줄에는 n개의 정수로 이루어진 수열이 주어진다. 수는 -1,000보다 크거나 같고, 1,000보다 작거나 같은 정수이다.

## Output
> 첫째 줄에 답을 출력한다.

---
```rust
use std::cmp;
use std::io;

fn main() {
    let buf = io::read_to_string(io::stdin()).unwrap();
    let input = buf.split_ascii_whitespace().flat_map(str::parse::<i32>);

    let arr: Vec<_> = input.skip(1).collect();

    let mut v_arr = vec![arr[0]];
    let mut max_v: i32 = -1000;

    for i in 1..arr.len() {
        let v = arr[i].max(arr[i] + v_arr[i - 1]);
        v_arr.push(v);
        max_v = cmp::max(max_v, v)
    }
    println!("{}", v_arr.iter().max().unwrap());
}
```
---

Dynamic Programming 문제이다.
연속 합의 경우 i 번째까지의 최대합들을 저장해놓고 그 중 최대값을 가져오면 된다.
예제에 있는 ``10 -4 3 1 5 6 -35 12 21 -1``와 같은 경우

10 은 그냥 10.
-4는 -4부터 잡는것 보다 10-4=6이 더 크기에 6.
3->1->5->6은 모두 양수이므로 상관 없음.
-35와 21-35=-14 중 -14가 더 크기에 -14.
-14+12=-2와 12 중 12가 더 크기에 12.
21 상관 없음.
33-1=32와 33중에 33이 더 큼.

이런 식으로 기존 최대 합에서 새 값이 추가되었을 때와 비교해가며 그 합들 중 최대값을 가져오면 된다.  

## Result
| Mem                     | Time         | Language  | Length |
| ----------------------- | ------------ | --------- | ------ |
| 14700 KB                | 4 ms         | Rust 2018 | 480 B  |
